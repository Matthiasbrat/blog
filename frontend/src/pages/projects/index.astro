---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getSectionBySlug } from '../../lib/sections';
import { getFlatContent } from '../../lib/content';

const section = getSectionBySlug('projects');
const projects = getFlatContent('projects');
---

<BaseLayout title="Projects" description={section?.description}>
  <h1>Projects</h1>
  <p class="description">{section?.description}</p>
  
  <ul class="projects">
    {projects.map(project => (
      <li>
        <a href={`/projects/${project.slug}`}>{project.title}</a>
        {project.description && <span class="desc"> â€” {project.description}</span>}
      </li>
    ))}
  </ul>
</BaseLayout>

<style>
  .description {
    color: var(--color-text-muted);
    margin-bottom: var(--space-xl);
  }
  
  .projects li {
    margin-bottom: var(--space-sm);
  }
  
  .desc {
    color: var(--color-text-muted);
  }
</style>
